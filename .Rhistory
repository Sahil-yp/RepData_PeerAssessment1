x[-1]
x
tmp <- c(y[-1]-x[-length])
tmp <- c(y[-1]-x[-length(x)])
tmp
tmp <- c(y>600)
tmp
tmp <- y>600
tmp
tmp <- (y>600)
tmp
tmp <- y[y>600]
tmp
which(y > 600)
tmp <- which((x>600) == (y>600))
tmp
tmp2 <- rev(sort(y))
which(tmp2[1]-200)
which(tmp2 == tmp2[1]-200)
which(tmp2 == (tmp2[1]-200)
)
which(tmp2 > (tmp2[1]-200))
sum(y >max(y)-200 )
order(x[sort(y)])
x[order(y)]
y[seq(1:length(y), by = 3)]
y[(seq(1:length(y), by = 3))]
?seq_len
y[(seq_len(1, by = 3))]
y[(seq(1, length(y), by = 3))]
y[c(T,F,F)]
?cumprod
x1 <- c(244, 191, 160, 187, 176, 174, 205, 211, 183, 211, 180, 194, 200)
length(x1)
x[(1:length(x), by = 2)]
x[seq(1, length(x), by = 2)]
x1[seq(1, length(x1), by = 2)]
x1[(x1<90)]
x1(x1<90)
x1<90
x1<190
which(x1<190)
x1[which(x1<190)]
x1[x1<190]
cel <- c(23, 27, 19)
far <- (cel*(9/5)+32)
far
q()
A <- matrix(1,1,3,5,2,6,-2,-1,-3, nrow=3)
?matrix
A <- matrix(c(1,1,3,5,2,6,-2,-1,-3), nrow=3, byrow = T)
A
A^3
A%*%A%*%A
A[,3] <- A[,1]+A[,2]
A
B <- matrix(c(10, -10, 10), nrow = 15)
B
B <- matrix(c(10, -10, 10), nrow = 15, ncol = 3)
B
B <- matrix(c(10, -10, 10), nrow = 15, ncol = 3, byrow = T)
B
?crossprod
crossprod(B)
matE <- matrix(c(0), nrow = 6, ncol = 6)
matE
row(matE)
col(matE)
tmp <- row(matE)*col(matE)
tmp
tmp <- row(matE)%*%col(matE)
tmp
?outer
A <- matrix(1,1,3,5,2,6,-2,-1,-3, nrow = 3)
A <- matrix(c(1,1,3,5,2,6,-2,-1,-3), nrow = 3)
A
A <- matrix(c(1,1,3,5,2,6,-2,-1,-3), nrow = 3, byrow = T)
A
A%*%A%*%A
tmp <- A[,3]
tmp
A[,3] <- A[,2]+A[,3]
A
B <- matrix(c(10,-10,10), nr=15,ncol = 3 byrow = T)
B <- matrix(c(10,-10,10), nr=15,ncol = 3, byrow = T)
B
t(B)
t(B)*B
t(B)%*%B
matE <- matrix(c(0), nrow = 6, ncol = 6)
matE
row(matE)
col(matE)
tmp1 <-row(matE)
tmp2 <-col(matE)
tmp1*tmp2
tmp1%*%tmp2
tmp1
tmp2
tmp3 <- matE + tmp2
tmp3
tmp3 <- matE * tmp2
tmp3
tmp3 <- matE %*% tmp2
tmp3
tmp1
tmp2
?outer
?"arrayInd"
?arrayindex.x
?arrayindex
?%%
5%%5
10%%5
9%%5
?set.seed
set.seed(75)
tmp3 <- matrix(sample(10, size = 60, replace = T),nrow = 6)
?sample
tmp3
which(tmp3 > 4)
tmp4 <- row(tmp3>4)
tmp4
tmp4 <- sum(tmp3[>4,])
tmp4 <- (tmp3[>4,])
tmp4 <- (tmp3[tmp3>4,])
tmp4 <- tmp3[tmp3>4,]
library(swirl)
ls()
rm(list=ls())
swirl()
5+7
swirl()
swirl()
1:20
pi:10
15:1
?`:`
seq(1,20)
seq(0,10, by=0.5)
my_seq <- seq(5,10, length = 30)
my_seq
length(my_seq)
1:length(my_seq)
seq(along.with = my_seq)
seq_along(my_seq)
rep(0, times = 40)
rep(c(0,1,2), times=10)
rep(c(0,1,2), each = 10)
swirl()
num_vect <- c(0.5, 55, -10, 6)
tf <- num_vect < 1
tf
tmp <- num_vect >=6
num_vect >=6
my_char <- c("my", "name", "is")
my_char <- c("My", "name", "is")
my_char
paste(my_char, collapse = "")
paste(my_char, collapse = " ")
my_name <- c(my_char, "sahil")
my_name
paste(my_name, collapse = " ")
paste("Hello", "world!", sep = " ")
paste(c(1:3), c("X", "Y", "Z"), sep = "")
paste(LETTERS, 1:4, sep="")
paste(LETTERS, 1:4, sep="-")
x <- c(44, NA, 5, NA)
x*3
y <- rnorm(1000)
z <- rep(NA, 1000)
my_data<- sample(c(y,z),100)
is.na(my_data)
my_na <- is.na(my_data)
my_na
my_data == NA
sum(my_na)
my_data
0/0
Inf-Inf
x
x[1:10]
x[is.na(x)]
y <- x[!is.na(x)]
y
y[y>0]
x[x>0]
x[!is.na(x) & x > 0]
x[c(3,5,7)]
x[0]
x[30000]
x[3000]
x[c(-2,-10)]
x[-c(2,10)]
vect <- c(foo = 11, bar = 2, norf = NA)
vect
names(vect)
vect2 <- c(11, 2, NA)
names(vect2) <- c("foo", "bar", "norf")
identical(vect, vect2)
vect["bar"]
vect[c("foo", "bar")]
my_vector <- 1:20
my_vector
dim(my_vector)
length(my_vector)
dim(my_vector) <- c(4,5)
dim(my_vector)
attributes(my_vector)
my_vector
class(my_vector)
my_matrix <- my_vector
?matrix()
?matrix
my_matrix2 <- matrix(1:20, nrow = 4)
identical(my_matrix, my_matrix2)
patients <- c("Bill", "Gina", "Kelly", "Sean")
cbind(patients, my_vector)
cbind(patients, my_matrix)
my_data <- data.frame(patients, my_matrix)
my_data
class(my_data)
cnames <- c("patients", "age", "weight", "bp", "rating", "test")
cnames <- c("patient", "age", "weight", "bp", "rating", "test")
colnames(my_data) <- cnames
my_data
swirl()
TRUE==TRUE
(FALSE == TRUE) == FALSE
6==7
6 <= 7
6 < 7
10 <= 10
5 != 7
5 != 7
(5 ==7) != TRUE
5 !== 7
!(5 ==7)
FALSE & FALSE
TRUE & C(TRUE, FALSE, FALSE)
TRUE & c(TRUE, FALSE, FALSE)
TRUE && c(TRUE, FALSE, FALSE)
TRUE | c(TRUE, FALSE, FALSE)
TRUE || c(TRUE, FALSE, FALSE)
5>8 || 6!=8 && 4>3.9
isTRUE(6>4)
identical('twins','twins')
xor(5==6, !FALSE)
ints(sample(10))
ints <- sample(10)
ints
ints > 5
which(ints>7)
any(ints<0)
all(ints>0)
quit()
library(swirl)
swirl()
Sys.Date()
mean(c(2,4,5))
quit()
0
swirl()
head(flags)
dim(flags)
viewinfo(flags)
viewinfo()
class(flags)
cls_list <- lapply(flags, class)
cls_list
class(cls_list)
as.character(cls_list)
cls_vect <- sapply(flags, class)
class(cls_vect)
sum(flags$orange)
flag_colors <- flags[,11:17]
head(flag_colors)
lapply(flag_colors, sum)
sapply(flag_colors, sum)
sapply(flag_colors, mean)
flag_shapes <- flags[,19:23]
lapply(flag_shapes, range)
shape_mat <- sapply(flag_shapes, range)
shape_mat
view(flags[,19:23])
View(flags[,19:23])
class(shape_mat)
unique(c(3,4,5,5,5,6,6))
unique_vals <- lapply(flags, unique)
unique_vals
sapply(unique_vals, length)
sapply(flags, unique)
lapply(unique_vals, function(elem) elem[2])
sapply(flags, unique)
vapply(flags, unique, numeric(1))
ok()
sapply(flags, class)
sapply(flags, class, character(1))
vapply(flags, class, character(1))
?tapply
table(flags$landmass)
table(flags$animate)
tapply(flags$animate, flags$landmass, mean)
tapply(flags$population, flags$red, summary)
tapply(flags$population, flags$landmass, summary)
q()
library(swirl)
swirl()
ls()
class(plants)
dim(plants)
nrow(plants)
ncol(plants)
object.size(plants)
names(plants)
skip
head(plants)
head(plants,10)
tail(plants)
tails(plants,15)
tail(plants, 15)
summary(plants)
table(plants$Active_Growth_Period)
str(plants)
?sample
sample(1:6, 4, replace=TRUE)
sample(1:6, 4, replace=TRUE)
sample(1:20, 10)
LETTERS
sample(LETTERS)
sample(c(0,1), 100, replace = TRUE, prob = c(0.3,0.7))
flips <- sample(c(0,1), 100, replace = TRUE, prob = c(0.3,0.7))
flips
sum(flips)
?rbinom
rbino(1,size = 100, prob = 0.7)
rbinom(1,size = 100, prob = 0.7)
flips2 <- rbinom(100,size = 100, prob = 0.7)
flips2 <- rbinom(100,size = 1, prob = 0.7)
flips2
rbinom(100,size = 2, prob = 0.7)
rbinom(100,size = 3, prob = 0.7)
sum(flips2)
?rnorm
rnorm(10)
rnorm(10, mean=100, sd=25)
swirl()
data(cars)
?cars
head(cars)
plot(cars)
?plot
library()
mydata <- data.frame(age=numeric(0), gender=character(0), weight=numeric(0))
mydata <- edit(mydata)
download.packages(XQuartz)
download.packages(XQuartz, destdir = wd)
wd <- getwd()
download.packages(XQuartz, destdir = wd)
q()
setwd("~/Google Drive/Coursera/Data_Science/Reproducible_Research/Assignment_1/RepData_PeerAssessment1")
raw_data
if(file.exists("activity.csv"))
raw_data <- read.csv("activity.csv") else {
fileURL <- "https://d396qusza40orc.cloudfront.net/repdata%2Fdata%2Factivity.zip"
download.file(fileURL, destfile = 'activity.zip', method = "libcurl")
data_date <- date()
write(data_date, file = "Data_Download_Date.txt")
unzip("activity.zip")
raw_data <- read.csv("activity.csv")
}
raw_data$date <- as.Date(raw_data$date,"%Y-%m-%d")
raw_data
class(raw_data)
colnames(raw_data)
unique(raw_data$interval)
2355*5
2355/24
2355/12
# Arranging the data by date
by_date <- group_by(raw_data, date)
# Calculating total steps for each day
t_s <- summarize(by_date, Total_Steps = sum(steps, na.rm = TRUE))
library(dplyr)
# Arranging the data by date
by_date <- group_by(raw_data, date)
# Calculating total steps for each day
t_s <- summarize(by_date, Total_Steps = sum(steps, na.rm = TRUE))
t_s
library(dplyr)
(Mean_TSN/Mean_TS)*100
(Median_TSN/Median_TS)*100
if(!exists("Mean_TS" && "Median_TS", mode="function")) source("Assignment_1a_CodeV2.R")
if(!exists("Mean_TS", "Median_TS", mode="function")) source("Assignment_1a_CodeV2.R")
if(!exists("raw_data", mode="function")) source("Assignment_1_Getting_Data.R")
if(!exists("Mean_TS", "Median_TS", mode="function")) source("Assignment_1a_CodeV2.R")
if(!exists("Mean_TS" || "Median_TS", mode="function")) source("Assignment_1a_CodeV2.R")
raw_data
if(!exists("raw_data", mode="function")) source("Assignment_1_Getting_Data.R")
if(!exists("Mean_TS") || !exists("Median_TS"), mode="function")) source("Assignment_1a_CodeV2.R")
---
title: "Analyzing Data from Personal Activity Monitoring Devices"
author: "Sahil Patel"
date: "April 30, 2016"
output: html_document
---
```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE)
```
## Introduction
This report lays out the results of analyzing data collected from a personal activity monitoring device over the duration of two months. The dataset contained the number of steps taken by the device user per 5 minute intervals across the two month span. The data was investigated to
* Study the activity for each day.
* Realize the most active time intervals of the day averaged across all days.
* Comparing the per day activity with NA values ignored and imputed by the interval mean.
* Comparing Weekday vs. Weekend activity.
## Loading and Processing the Data
The dataset was available at <https://d396qusza40orc.cloudfront.net/repdata%2Fdata%2Factivity.zip>. The data was downloaded and formatted for analysis.
```{r Assignment_1_Getting_Data, message=FALSE, results='hide'}
## Load the required libraries
library(dplyr)
library(chron)
library(lattice)
initial_dir <- getwd()
## Check if .csv dataset exists, else download and unzip the file
if(file.exists("activity.csv"))
raw_data <- read.csv("activity.csv") else {
fileURL <- "https://d396qusza40orc.cloudfront.net/repdata%2Fdata%2Factivity.zip"
download.file(fileURL, destfile = 'activity.zip', method = "libcurl")
data_date <- date()
write(data_date, file = "Data_Download_Date.txt")
unzip("activity.zip")
raw_data <- read.csv("activity.csv")
}
raw_data$date <- as.Date(raw_data$date,"%Y-%m-%d")
```
The dataset thus obtained consisted of three variables, viz.
* Steps: The number of steps taken
* Date: The date when the data was recorded
* Interval: The 5 minute time interval of the 24 hour period
Note: The dataset contains multiple NA values which will be ignored, unless required otherwise.
## What is mean total number of steps taken per day?
From the loaded data, the total number of steps taken each day was calculated as follows:
```{r results='hide'}
# Arranging the data by date
by_date <- group_by(raw_data, date)
# Calculating total steps for each day
t_s <- summarize(by_date, Total_Steps = sum(steps, na.rm = TRUE))
```
The new variable, *t_s* contains the total number of steps taken for each date in the dataset. To visualize this information, a histogram was created.
```{r}
with(t_s, hist(Total_Steps, breaks = 10, col = "lightgreen", main = "Total Steps Each Day", xlab = "Total Steps"))
```
From the information in variable *t_s*, the mean and median of the total steps taken per day was calculated.
```{r}
Mean_TS <- mean(t_s$Total_Steps)
Median_TS <- median(t_s$Total_Steps)
```
```{r echo=FALSE}
paste("The mean total number of steps taken per day is ", round(Mean_TS, digits = 2), "and the median of the total number of steps taken per day is ", round(Median_TS, digits = 2))
```
## What is the average daily activity pattern?
After analyzing the data for each day, it was investigated by averaging the information across all days for the time intervals. A time series plot was created to observe the activity rates at different times of the day, and the interval with the highest activity was calculated.
```{r}
#Arrange the data by interval id
by_interval <- group_by(raw_data, interval)
#Calculating the average number of steps over total period for each interval
interval_steps <- summarise(by_interval, avg_steps = mean(steps, na.rm = TRUE))
#Time series plot for the average steps per interval
plot(interval_steps, type = "l", col = "blue", main = "Average Steps Per Interval", xlab = "Interval", ylab = "Average Steps")
max_steps <- interval_steps[which.max(interval_steps$avg_steps),]
```
```{r echo=FALSE}
paste("The maximum number of steps, i.e.,", round(max_steps[1,2], digits = 2), "occur during interval", max_steps[1,1])
```
## Imputing missing values
The NA values in the dataset were substituted by the average values for that given interval. A new histogram of the total number of steps taken each day was created to observe the effect of imputing the missing values in the data set. The mean and median values of the total steps were also calculated with the new imputed dataset.
```{r}
# Number of rows with NAs. You could also just call the summary function on the raw data
NA_sum <- sum(is.na(raw_data))
# Create new dataset to replace NA values
new_data <- raw_data
# Aranging by interval
by_interval_n <- group_by(new_data, interval)
interval_steps_n <- summarise(by_interval_n, avg_steps_n = mean(steps, na.rm = TRUE))
#Imputing Missing Values with the average step for a given interval
for (i in 1:nrow(new_data)) {
if(is.na(new_data[i,1])) {
id_val <- new_data[i,3]
rep_val <- filter(interval_steps_n, interval == id_val)
new_data[i,1] <- rep_val[1,2]
}
}
# Arranging new data by date
by_date_n <- group_by(new_data, date)
t_s_n <- summarize(by_date_n, Total_Steps_n = sum(steps))
Mean_TSN <- mean(t_s_n$Total_Steps_n)
Median_TSN <- median(t_s_n$Total_Steps_n)
#Creating the histogram
with(t_s_n, hist(Total_Steps_n, breaks = 10, col = "lightgreen", main = "Total Steps Each Day", xlab = "Total Steps"))
```
```{r echo=FALSE}
paste("The total number of NA values in the raw dataset is", NA_sum)
paste("The mean total number of steps taken per day, after imputing missing values is", round(Mean_TSN, digits=2))
paste("The the median of the total number of steps taken per day, after imputing missing values is",round(Median_TSN, digits = 2))
```
```{r}
Mean_change <- ((Mean_TSN-Mean_TS)/Mean_TS)*100
Median_change <- ((Median_TSN-Median_TS)/Median_TS)*100
```
```{r, echo=FALSE}
paste("The analysis shows that imputing the missing data values, increases the mean by ", round(Mean_change,digits = 0), "%, and median total steps per day by ", round(Median_change, digits = 0), "%")
```
